@model IEnumerable<UsersDiosna.Models.Article>

@{
    ViewBag.Title = "List of Articles";
}

<h2>List of articles to current</h2>
<p>
    @Html.ActionLink("Create new Section", "CreateSection",new { }, new { @class = "btn btn-xs btn-primary" })
</p>
<p>
    @Html.ActionLink("Create new Article", "CreateArticle", new { }, new { @class = "btn btn-xs btn-primary" })
</p>
<p>
    @Html.ActionLink("List of sections", "Sections",new { }, new { @class = "btn btn-xs btn-primary" })
    @*filterSection($.("searchSecions").)*@
</p>
<input type="text" class="form-control" id="searchArticle" onkeyup="filterArticle()" placeholder="search for articles">
<table class="table table-striped table-condensed table-hover table-responsive">
    <tr>
        <th>
            Bakery
        </th>
        <th>
            @Html.DisplayNameFor(model => model.DateTime)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Author)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Header)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Text)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Amount)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.HoursSpend)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Attachment)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Description)
        </th>
        <th>
            Section @Html.DisplayNameFor(model => model.Section.Name).ToString().ToLower()
        </th>
        <th></th>
    </tr>

@foreach (var item in Model) {
    <tr>
        <td>
            @Html.DisplayFor(modelItem => item.bakeryId)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.DateTime)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Author)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Header)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Text)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Amount)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.HoursSpend)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Attachment)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Description)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Section.Name)
        </td>
        <td>
            @if (User.IsInRole("CMS")) { 
                <span> @Html.ActionLink("Edit", "EditArticle", new { id=item.Id }) |</span>
                <span>@Html.ActionLink("Details", "DetailArticle", new { id=item.Id }) |</span>
                <span>@Html.ActionLink("Delete", "DeleteArticle", new { id=item.Id })</span>
            }
        </td>
    </tr>
}

</table>
